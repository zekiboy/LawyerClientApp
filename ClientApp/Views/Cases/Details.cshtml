@model ClientApp.Models.Case

@{
    ViewData["Title"] = "Dava Detayı";
}

<div class="container mt-4">

    <!-- Müvekkil / Acenta Bilgisi (Akordiyon) -->
    <div class="accordion mb-4" id="clientAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingClient">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseClient" aria-expanded="true" aria-controls="collapseClient">
                    Müvekkil / Acenta Bilgisi
                </button>
            </h2>
            <div id="collapseClient" class="accordion-collapse collapse show" aria-labelledby="headingClient" data-bs-parent="#clientAccordion">
                <div class="accordion-body row">
                    <div class="col-md-6 mb-2"><strong>Müvekkil (Acenta):</strong> @Model.Client?.FullName</div>
                    <div class="col-md-6 mb-2"><strong>Client Code:</strong> @Model.Client?.ClientCode</div>
                    <div class="col-md-6 mb-2"><strong>Araç Sahibi:</strong> @Model.Muvekkil</div>
                    <div class="col-md-6 mb-2"><strong>TC / Vergi No:</strong> @Model.TcVergiNo</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dava ve Dosya Bilgileri (Akordiyon) -->
    <div class="accordion mb-4" id="caseAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingCase">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCase" aria-expanded="false" aria-controls="collapseCase">
                    Dava / Dosya Detayları
                </button>
            </h2>
            <div id="collapseCase" class="accordion-collapse collapse show" aria-labelledby="headingCase" data-bs-parent="#caseAccordion">
                <div class="accordion-body row">
                    <div class="col-md-6 mb-2"><strong>Dosya No:</strong> @Model.HasarDosyaNo</div>
                    <div class="col-md-6 mb-2"><strong>Kaza Tarihi:</strong> @Model.KazaTarihi?.ToString("dd.MM.yyyy")</div>
                    <div class="col-md-6 mb-2"><strong>Kaza Kusur Oranı (%):</strong> @Model.KusurOrani</div>
                    <div class="col-md-6 mb-2"><strong>Sigorta Şirketi:</strong> @Model.SigortaSirketi</div>
                    <div class="col-md-6 mb-2"><strong>Sigorta Başvuru Tarihi:</strong> @Model.SigortaBasvuruTarihi?.ToString("dd.MM.yyyy")</div>
                    <div class="col-md-6 mb-2"><strong>Kasko Şirketi:</strong> @Model.KaskoSirketi</div>
                    <div class="col-md-6 mb-2"><strong>Eksper Raporu:</strong> @Model.EksperRaporu</div>
                    <div class="col-md-6 mb-2"><strong>Eksper Bilgisi:</strong> @Model.EksperBilgisi</div>
                    <div class="col-md-6 mb-2"><strong>Tahkim Durumu:</strong> @Model.TahkimDurumu</div>
                    <div class="col-md-6 mb-2"><strong>Tahkim Başvuru Tarihi:</strong> @Model.TahkimBasvuruTarihi?.ToString("dd.MM.yyyy")</div>
                    <div class="col-md-6 mb-2"><strong>Tahkim Başvuru No:</strong> @Model.TahkimBasvuruNo</div>
                </div>
            </div>
        </div>
    </div>

 @using System.Globalization

<!-- Ödeme ve Masraf Bilgileri (Akordiyon) -->
<div class="accordion mb-4" id="paymentAccordion">
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingPayment">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePayment" aria-expanded="false" aria-controls="collapsePayment">
                Ödeme ve Masraf Bilgileri
            </button>
        </h2>
        <div id="collapsePayment" class="accordion-collapse collapse show" aria-labelledby="headingPayment" data-bs-parent="#paymentAccordion">
            <div class="accordion-body row">
                <div class="col-md-3 mb-2"><strong>Müvekkile Ödenen:</strong> @Model.MuvekkileOdenen?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>M. Ödeme Tarihi:</strong> @Model.MuvekkileOdemeTarihi?.ToString("dd.MM.yyyy")</div>
                <div class="col-md-3 mb-2"><strong>Komisyoncu:</strong> @Model.Komisyoncu</div>
                <div class="col-md-3 mb-2"><strong>Komisyon Ödemesi:</strong> @Model.KomisyonOdeme?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>

                <div class="col-md-3 mb-2"><strong>Bakiye Hasar:</strong> @Model.BakiyeHasar?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Başvuru Ücreti:</strong> @Model.BasvuruUcreti?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Baro Pulu:</strong> @Model.BaroPulu?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Bilirkişi Ücreti:</strong> @Model.BilirkişiUcreti?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>

                <div class="col-md-3 mb-2"><strong>Islah Harcı:</strong> @Model.IslahHarci?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>SBM Masraf:</strong> @Model.SbmMasraf?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Karşı Vekalet:</strong> @Model.KarsiVekalet?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>İtiraz Harcı:</strong> @Model.ItirazHarci?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>

                <div class="col-md-3 mb-2"><strong>İcra Masraf:</strong> @Model.IcraMasraf?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Tahkim Değer Kaybı:</strong> @Model.TahkimDegerKaybi?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Tahkim Vekalet Ücreti:</strong> @Model.TahkimVekaletUcreti?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>

                <div class="col-md-3 mb-2"><strong>Tahkim Sonrası Ödeme:</strong> @Model.TahkimSonrasiOdeme?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Sigorta Kısmi Ödeme:</strong> @Model.SigortaKismiOdeme?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
<hr>
                <div class="col-md-3 mb-2"><strong>Toplam Masraf:</strong> @Model.ToplamMasraf?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
                <div class="col-md-3 mb-2"><strong>Bize Kalan:</strong> @Model.BizeKalan?.ToString("C", CultureInfo.CreateSpecificCulture("tr-TR"))</div>
            </div>
        </div>
    </div>
</div>

    <!-- Araç Bilgileri (Akordiyon) -->
    <div class="accordion mb-4" id="vehicleAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingVehicle">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseVehicle" aria-expanded="false" aria-controls="collapseVehicle">
                    Araç Bilgileri
                </button>
            </h2>
            <div id="collapseVehicle" class="accordion-collapse collapse show" aria-labelledby="headingVehicle" data-bs-parent="#vehicleAccordion">
                <div class="accordion-body row">
                    <div class="col-md-4 mb-2"><strong>Muvekkil Plaka:</strong> @Model.MuvekkilPlaka</div>
                    <div class="col-md-4 mb-2"><strong>Karşı Araç Plaka:</strong> @Model.KarsiAracPlaka</div>
                    <div class="col-md-4 mb-2"><strong>İkame Araç:</strong> @Model.IkameAracBilgileri</div>
                    <div class="col-md-4 mb-2"><strong>Trafik Poliçe No:</strong> @Model.TrafikPoliceNo</div>
                    <div class="col-md-4 mb-2"><strong>Kasko Poliçe No:</strong> @Model.KaskoPoliceNo</div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3">
        @if (User.IsInRole("Admin"))
        {
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Düzenle</a>
        }
        <a asp-action="Index" class="btn btn-secondary">Listeye Dön</a>
    </div>
</div>